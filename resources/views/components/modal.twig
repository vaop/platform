{#
 # Modal component
 #
 # @param string id - Unique modal ID for JS targeting
 # @param string title - Modal title
 # @param string size - sm, md, lg, xl (default: md)
 # @param string class - Additional CSS classes
 #}
{% set size = size|default('md') %}
{% set extraClass = class|default('') %}

{% set sizeClass = 'modal-' ~ size %}

<div id="{{ id }}" class="hidden" role="dialog" aria-modal="true">
    {# Backdrop #}
    <div class="modal-backdrop" onclick="document.getElementById('{{ id }}').classList.add('hidden')"></div>

    {# Modal container #}
    <div class="modal-container">
        <div class="modal {{ sizeClass }} {{ extraClass }}">
            {# Header #}
            {% if title is defined and title %}
                <div class="modal-header">
                    <h3 class="modal-title">{{ title }}</h3>
                    <button type="button" onclick="document.getElementById('{{ id }}').classList.add('hidden')" class="modal-close">
                        <svg class="w-5 h-5" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12"/>
                        </svg>
                    </button>
                </div>
            {% endif %}

            {# Body #}
            <div class="modal-body">
                {% block content %}{% endblock %}
            </div>

            {# Footer #}
            {% if footer is defined and footer %}
                <div class="modal-footer">
                    {{ footer|raw }}
                </div>
            {% endif %}
        </div>
    </div>
</div>
